:root {
  --bg: #0a0f0a;
  --bg-dark: #050705;
  --neon: #00ff7f;
  --neon-soft: #37ffab;
  --cyan: #25f4ee;
  --grid: rgba(0, 255, 127, 0.1);
  --text: #c8facc;
  --text-dim: #76a586;
  --accent: #b2ff59;
}

* { box-sizing: border-box; }
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  background: radial-gradient(1000px 500px at 10% 10%, #0c1b0c 0%, var(--bg) 40%, var(--bg-dark) 100%);
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  overflow: hidden;
}

/* نویز */
.noise {
  position: fixed; inset: 0;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width=\"80\" height=\"80\"><filter id=\"n\"><feTurbulence baseFrequency=\"0.9\" numOctaves=\"1\"/></filter><rect width=\"100%\" height=\"100%\" filter=\"url(%23n)\" opacity=\"0.05\"/></svg>');
  pointer-events: none;
  z-index: 5;
}

/* ماتریکس بارش */
#matrixCanvas {
  position: fixed; inset: 0;
  z-index: 1;
  mix-blend-mode: screen;
}

/* HUD */
.hud {
  position: fixed; top: 16px; left: 16px; right: 16px;
  display: flex; align-items: center; justify-content: space-between;
  z-index: 10;
  border: 1px solid var(--grid);
  background: rgba(5, 10, 5, 0.6);
  backdrop-filter: blur(6px);
  padding: 10px 12px;
}
.brand { display: flex; align-items: center; gap: 10px; }
.logo {
  border: 1px solid var(--neon); color: var(--neon);
  padding: 4px 6px; font-weight: 600; letter-spacing: 1px;
  text-shadow: 0 0 8px var(--neon-soft);
}
.title { color: var(--text); opacity: 0.85; }
.controls { display: flex; gap: 8px; }
.btn {
  color: var(--text);
  border: 1px solid var(--grid);
  background: rgba(0,0,0,0.3);
  padding: 6px 10px; cursor: pointer;
  transition: 0.2s;
}
.btn:hover {
  border-color: var(--neon); color: var(--neon);
  box-shadow: 0 0 12px rgba(0,255,127,0.3) inset;
}

/* Intro */
.intro {
  position: fixed;
  top: 72px; left: 16px; right: 16px;
  z-index: 9;
  color: var(--text-dim);
}

/* World */
.world-wrap {
  position: absolute; inset: 0;
  display: grid;
  grid-template-columns: 1.3fr 0.7fr;
  grid-gap: 12px;
  padding: 120px 16px 16px 16px;
  z-index: 2;
}
.world-panel {
  position: relative;
  border: 1px solid var(--grid);
  background: rgba(5, 10, 6, 0.4);
  backdrop-filter: blur(4px);
  overflow: hidden;
}
#worldSVG {
  width: 100%; height: 100%;
  filter: drop-shadow(0 0 12px rgba(0,255,127,0.15));
}
#linesCanvas {
  position: absolute; inset: 0;
  pointer-events: none;
  mix-blend-mode: lighten;
}

/* Sidebar */
.sidebar {
  border: 1px solid var(--grid);
  background: rgba(5, 10, 6, 0.4);
  padding: 12px;
  overflow: auto;
}
.sidebar h2 { margin-top: 0; color: var(--neon-soft); }
#signalsList {
  list-style: none; margin: 0; padding: 0;
}
#signalsList li {
  display: flex; align-items: center; gap: 8px;
  padding: 6px 4px; border-bottom: 1px dashed var(--grid);
}
.dot {
  width: 10px; height: 10px; border-radius: 50%;
  box-shadow: 0 0 8px rgba(0,255,127,0.6);
}
.dot-green { background: var(--neon); }
.dot-cyan { background: var(--cyan); box-shadow: 0 0 8px rgba(37,244,238,0.6); }

/* Footer */
.footer {
  position: fixed; bottom: 8px; left: 16px; right: 16px;
  z-index: 9; color: var(--text-dim); text-align: center;
}

/* Pulse effect */
.pulse {
  animation: pulse 1.6s ease-in-out infinite;
}
@keyframes pulse {
  0% { filter: drop-shadow(0 0 2px rgba(0,255,127,0.2)); }
  50% { filter: drop-shadow(0 0 18px rgba(0,255,127,0.8)); }
  100% { filter: drop-shadow(0 0 2px rgba(0,255,127,0.2)); }
}

/* Responsive */
@media (max-width: 900px) {
  .world-wrap { grid-template-columns: 1fr; }
  .sidebar { height: 40vh; }
}
